# 2.3 Python Development and CLI Tools

While understanding the concepts of ROS 2 is important, the real power comes from writing your own nodes and interacting with the ROS 2 system. In this section, we will cover the basics of Python development with `rclpy` and introduce some essential command-line tools.

## Python Development with `rclpy`

The ROS 2 client library for Python is called `rclpy`. It provides the tools you need to write ROS 2 nodes in Python.

Here is a simple example of a publisher node that publishes a "Hello, World!" message to a topic called `chatter`:

```python
import rclpy
from rclpy.node import Node
from std_msgs.msg import String

class ChatterPublisher(Node):

    def __init__(self):
        super().__init__('chatter_publisher')
        self.publisher_ = self.create_publisher(String, 'chatter', 10)
        timer_period = 0.5  # seconds
        self.timer = self.create_timer(timer_period, self.timer_callback)
        self.i = 0

    def timer_callback(self):
        msg = String()
        msg.data = 'Hello World: %d' % self.i
        self.publisher_.publish(msg)
        self.get_logger().info('Publishing: "%s"' % msg.data)
        self.i += 1

def main(args=None):
    rclpy.init(args=args)
    chatter_publisher = ChatterPublisher()
    rclpy.spin(chatter_publisher)
    chatter_publisher.destroy_node()
    rclpy.shutdown()

if __name__ == '__main__':
    main()
```

And here is a subscriber node that listens to the `chatter` topic and prints the messages it receives:

```python
import rclpy
from rclpy.node import Node
from std_msgs.msg import String

class ChatterSubscriber(Node):

    def __init__(self):
        super().__init__('chatter_subscriber')
        self.subscription = self.create_subscription(
            String,
            'chatter',
            self.listener_callback,
            10)
        self.subscription  # prevent unused variable warning

    def listener_callback(self, msg):
        self.get_logger().info('I heard: "%s"' % msg.data)

def main(args=None):
    rclpy.init(args=args)
    chatter_subscriber = ChatterSubscriber()
    rclpy.spin(chatter_subscriber)
    chatter_subscriber.destroy_node()
    rclpy.shutdown()

if __name__ == '__main__':
    main()
```

To run these nodes, you would save them as Python files in a ROS 2 package, build the package, and then run the nodes using `ros2 run`.

## Essential Command-Line Tools

ROS 2 provides a rich set of command-line tools for introspecting and interacting with a running system. Here are a few of the most common commands:

-   `ros2 node list`: Lists all of the running nodes.
-   `ros2 topic list`: Lists all of the topics.
-   `ros2 service list`: Lists all of the services.
-   `ros2 action list`: Lists all of the actions.
-   `ros2 node info <node_name>`: Shows information about a specific node, including its publishers, subscribers, services, and actions.
-   `ros2 topic echo <topic_name>`: Prints the messages being published to a topic.

These tools are invaluable for debugging and understanding a ROS 2 system. By using them, you can see what is happening under the hood and diagnose problems quickly.
