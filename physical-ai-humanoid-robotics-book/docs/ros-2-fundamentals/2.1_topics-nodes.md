# 2.1 Asynchronous Data Flow: Nodes and Topics

## Nodes: The Building Blocks of ROS 2

As we learned in the previous section, a ROS 2 system is composed of many small, independent programs called **nodes**. A node is the smallest unit of execution in ROS 2. It is a program that performs a specific task. For example, you might have a node that reads data from a camera, a node that controls the wheels of a robot, and a node that plans a path for the robot to follow.

Each node in a ROS 2 system can be written in a different programming language and can run on a different computer. This makes it easy to build complex systems from smaller, more manageable parts.

## Topics: The Communication Channels

Nodes need to communicate with each other to work together. The most common way for nodes to communicate in ROS 2 is by using **topics**. A topic is a named bus over which nodes exchange messages. Topics are used for **asynchronous** communication, meaning that the sender and receiver of a message do not need to be aware of each other, and they do not need to be running at the same time.

### Publishers and Subscribers

Communication over topics is achieved through a **publish-subscribe** model.
- A **publisher** is a node that sends messages to a topic.
- A **subscriber** is a node that receives messages from a topic.

A single topic can have multiple publishers and multiple subscribers. This allows for many-to-many communication. For example, you could have a single camera node publishing images to a topic, and multiple nodes subscribing to that topic to perform different tasks, such as image processing, object detection, and recording.

### Messages

The data that is sent over a topic is called a **message**. A message is a simple data structure, like a C `struct` or a Python `class`. ROS 2 comes with a rich set of predefined message types for common robotics data, such as sensor readings, robot states, and navigation goals. You can also define your own custom message types.

This asynchronous, publish-subscribe model is one of the fundamental concepts in ROS 2. It allows for the creation of flexible, scalable, and distributed robotic systems.
